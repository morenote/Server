@namespace MoreNote.BlazorHybridApp.Components.WebComponents

@using MoreNote.BlazorHybridApp.Components.WebComponents.MyModal
@using MoreNote.Logic.Service.DistributedIDGenerator


@inject IMessageService _message
@inject IDistributedIdGenerator idGenerator


<Menu Mode=MenuMode.Horizontal>

    <SubMenu Title="笔记本">
        <MenuItemGroup Title="文件">
            <MenuItem OnClick="Create">新建</MenuItem>
            <MenuItem OnClick="Open">打开</MenuItem>
            <MenuItem>关闭</MenuItem>
            <MenuItem>设置</MenuItem>
        </MenuItemGroup>
       
    </SubMenu>
    <SubMenu Title="数据库">
        <MenuItemGroup Title="管理">
            <MenuItem OnClick="CheckStatus">检查状态 </MenuItem>
            <MenuItem OnClick="EnsureDeletedAsync">销毁</MenuItem>
            <MenuItem OnClick="EnsureCreatedAsync">初始化</MenuItem>
          
        </MenuItemGroup>
    </SubMenu>
    <SubMenu Title="安全">
        <MenuItem>锁定</MenuItem>
        <MenuItem>销毁</MenuItem>
        <SubMenu Title="密钥管理">
            <MenuItem>查看密钥状态</MenuItem>
            <MenuItem>轮换笔记本根密钥</MenuItem>
            <MenuItem>修改加密服务提供商</MenuItem>
            <MenuItem>测试加密状态</MenuItem>
        </SubMenu>
    </SubMenu>
    <SubMenu Title="工具">
        <MenuItemGroup  Title="系统信息">
            <MenuItem OnClick="SystemGetInfo">获取</MenuItem>
            <MenuItem>Option 4</MenuItem>
            <SubMenu Title="Sub Menu">
                <MenuItem>Option 5</MenuItem>
                <MenuItem>Option 6</MenuItem>
            </SubMenu>
        </MenuItemGroup>
    </SubMenu>
    <SubMenu Title="同步">
        <MenuItemGroup Title="更新">
            <MenuItem>Option 1</MenuItem>
            <MenuItem>Option 2</MenuItem>
        </MenuItemGroup>
        <MenuItemGroup Title="拉取">
            <MenuItem>Option 3</MenuItem>
            <MenuItem>Option 4</MenuItem>
            <SubMenu Title="Sub Menu">
                <MenuItem>Option 5</MenuItem>
                <MenuItem>Option 6</MenuItem>
            </SubMenu>
            <SubMenu Title="Disabled Sub Menu">
                <MenuItem>Option 5</MenuItem>
                <MenuItem>Option 6</MenuItem>
            </SubMenu>
        </MenuItemGroup>
        <MenuItemGroup Title="服务器">
            <MenuItem>Option 3</MenuItem>
            <MenuItem>Option 4</MenuItem>

        </MenuItemGroup>
    </SubMenu>
    <SubMenu Title="服务器">
        <MenuItemGroup Title="远端">
            <MenuItem OnClick="Login">登录</MenuItem>
            <MenuItem >Option 4</MenuItem>
      
        </MenuItemGroup>
    </SubMenu>
</Menu>
<LaunchModalComponent @ref="launchComponent"></LaunchModalComponent>

<LoginModalComponent @ref="loginModalComponent"></LoginModalComponent>

<SystemInfoModalComponent @ref="systemInfoModalComponent"></SystemInfoModalComponent>

<CreateNotebookModalComponent @ref="createNotebookModalComponent"></CreateNotebookModalComponent>



@code {
    LaunchModalComponent launchComponent;

    LoginModalComponent loginModalComponent;

    SystemInfoModalComponent systemInfoModalComponent;

    CreateNotebookModalComponent createNotebookModalComponent;

    bool _visible = false;
    public  void Open()
    {
        _visible = true;
        launchComponent.ShowModal();
        //_message.Info("This is a normal message");
        //var result = await FilePicker.Default.PickAsync(PickOptions.Default);
    }


    public void Create()
    {
        createNotebookModalComponent.ShowModal();

       
    }
    public void SystemGetInfo()
    {
        systemInfoModalComponent.ShowModal(true);
    }
    public void Login()
    {

        loginModalComponent.ShowModal();
    }





}
